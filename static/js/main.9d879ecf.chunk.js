(this.webpackJsonpaqireact=this.webpackJsonpaqireact||[]).push([[0],{16:function(e,t,n){e.exports=n(31)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(2),c=n.n(r),i=n(3),o=n(1),s=n(10),u=n(11),m=(n(26),n(12)),g=n(13),p=n(15),E=n(14),f=(n(27),function(e){var t=e.CountyList,n=e.onchangeCountyAqi,a=t.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)}));return l.a.createElement("div",{className:"flex tc aqi-searchbox"},l.a.createElement("div",{className:"aqi-title flex"},l.a.createElement("h1",null,"\u7a7a\u6c23\u54c1\u8cea\u6307\u6a19(AQI)"),l.a.createElement("select",{onChange:n},l.a.createElement("option",{defaultValue:!0},"\u8acb\u9078\u64c7\u5730\u5340"),a)),l.a.createElement("ul",{className:"aqi-list flex bg-white"},l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-green"},"0~50"),l.a.createElement("p",null,"\u826f\u597d")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-yellow"},"51~100"),l.a.createElement("p",null,"\u666e\u901a")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-orange"},"101~150"),l.a.createElement("p",null,"\u5c0d\u654f\u611f\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-red"},"151~200"),l.a.createElement("p",null,"\u5c0d\u6240\u6709\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-purple"},"201~300"),l.a.createElement("p",null,"\u5c0d\u6240\u6709\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-dangerous"},"301~400"),l.a.createElement("p",null,"\u5371\u5bb3"))))}),h=(n(28),function(e){var t=e.focusSite,n="",a=t.AQI;switch(!0){case a>=0&&a<=50:n="bg-light-green";break;case a>=51&&a<=100:n="bg-light-yellow";break;case a>=101&&a<=150:n="bg-light-orange";break;case a>=151&&a<=200:n="bg-light-red";break;case a>=201&&a<=300:n="bg-light-purple";break;case a>=300&&a<=400:n="bg-dangerous"}return l.a.createElement("div",null,l.a.createElement("ul",{className:"aqi-focus bg-white"},l.a.createElement("li",{className:"aqi-box"},l.a.createElement("p",null,t.SiteName),l.a.createElement("p",{className:n},t.AQI)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u81ed\u6c27 ",l.a.createElement("span",null,"O",l.a.createElement("sub",null,"3"),"(ppb)")),l.a.createElement("p",null,t.O3)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u61f8\u6d6e\u5fae\u7c92 ",l.a.createElement("span",null,"PM",l.a.createElement("span",{className:"half"},"10"),"(ug/m",l.a.createElement("sup",null,"3"),")")),l.a.createElement("p",null,t.PM10)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u7d30\u61f8\u6d6e\u5fae\u7c92 ",l.a.createElement("span",null,"PM",l.a.createElement("span",{className:"half"},"2.5"),"(ug/m",l.a.createElement("sup",null,"3"),")")),l.a.createElement("p",null,t["PM2.5"])),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e00\u6c27\u5316\u78b3 ",l.a.createElement("span",null,"CO(ppm)")),l.a.createElement("p",null,t.CO)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e8c\u6c27\u5316\u786b ",l.a.createElement("span",null,"SO",l.a.createElement("sub",null,"2"),"(ppb)")),l.a.createElement("p",null,t.SO2)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e8c\u6c27\u5316\u6c2e ",l.a.createElement("span",null,"NO",l.a.createElement("sub",null,"2"),"(ppb)")),l.a.createElement("p",null,t.NO))))}),d=(n(29),function(e){var t=e.onChangeFocusSite,n=e.County,a=e.datas,r=e.focusSite;return l.a.createElement("div",null,l.a.createElement("div",{className:"aqi-content-title flex"},l.a.createElement("h2",null,n),l.a.createElement("p",null,r.PublishTime," \u66f4\u65b0")),l.a.createElement("div",{className:"aqi-content-main flex"},l.a.createElement(h,{focusSite:r}),l.a.createElement("div",{className:"aqi-content-list"},a.map((function(e,n){var a="",r=e.AQI;switch(!0){case r>=0&&r<=50:a="bg-light-green";break;case r>=51&&r<=100:a="bg-light-yellow";break;case r>=101&&r<=150:a="bg-light-orange";break;case r>=151&&r<=200:a="bg-light-red";break;case r>=201&&r<=300:a="bg-light-purple";break;case r>=300&&r<=400:a="bg-dangerous"}return l.a.createElement("div",{className:"aqi-box bg-white",key:n},l.a.createElement("p",{onClick:t},e.SiteName),l.a.createElement("p",{className:a},e.AQI))})))))}),b=(n(30),function(e){return{type:"ON_CHANGE_FOCUS_SITE",payload:e}}),y=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onchangeSite=function(t){var n=e.props,a=n.datas,l=n.onChangeCounty,r=n.countyChangeSiteChange,c=a.find((function(e){return e.County===t.target.value})).SiteName;console.log(c),l(t),r(c)},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.onRequestAqi)()}},{key:"render",value:function(){var e=this.props,t=e.CountyList,n=e.datas,a=e.onChangeFocusSite,r=e.setCounty,c=e.setfocusSite,i=n.filter((function(e){return e.County===r})),o=n.filter((function(e){return e.SiteName===c}));return 0===i.length||0===o.length?l.a.createElement("h1",null,"Loading"):l.a.createElement("div",{className:"wrap"},l.a.createElement(f,{CountyList:t,onchangeCountyAqi:this.onchangeSite}),l.a.createElement(d,{County:r,datas:i,focusSite:o[0],onChangeFocusSite:a}))}}]),n}(a.Component),v=Object(i.b)((function(e){return{setCounty:e.requestAqi.County,setfocusSite:e.requestAqi.focusSite,datas:e.requestAqi.datas,isPending:e.requestAqi.isPending,error:e.requestAqi.error,CountyList:e.requestAqi.countyList}}),(function(e){return{onChangeCounty:function(t){return e({type:"ON_CHANGE_COUNTY",payload:t.target.value})},onChangeFocusSite:function(t){return e(b(t.target.textContent))},countyChangeSiteChange:function(t){return e(b(t))},onRequestAqi:function(){return e((function(e){e({type:"REQUSET_AQI_PENDING",isPending:!0}),fetch("https://opendata.epa.gov.tw/api/v1/AQI?%24skip=0&%24top=1000&%24format=json").then((function(e){return e.json()})).then((function(t){var n=t.map((function(e){return e.County})).filter((function(e,t,n){return n.indexOf(e)===t})),a=t[0].County,l=t[0].SiteName;return e({type:"REQUSET_AQI_SUCCESS",payload:t,countyList:n,County:a,focusSite:l})})).catch((function(t){return e({type:"REQUSET_AQI_ERROR",payload:t,isPending:!1})}))}))}}}))(y),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var S={datas:[],countyList:[],focusSite:"",County:"",isPending:!1,error:""},q=Object(s.createLogger)(),w=Object(o.c)({requestAqi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUSET_AQI_PENDING":return Object.assign({},e,{isPending:!0});case"REQUSET_AQI_SUCCESS":return Object.assign({},e,{datas:t.payload,countyList:t.countyList,County:t.County,focusSite:t.focusSite});case"REQUSET_AQI_ERROR":return Object.assign({},e,{error:t.payload,isPending:!1});case"ON_CHANGE_COUNTY":return Object.assign({},e,{County:t.payload});case"ON_CHANGE_FOCUS_SITE":return Object.assign({},e,{focusSite:t.payload});default:return e}}}),A=Object(o.d)(w,Object(o.a)(q,u.a));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,{store:A},l.a.createElement(v,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/AQI-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/AQI-react","/service-worker.js");C?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.9d879ecf.chunk.js.map