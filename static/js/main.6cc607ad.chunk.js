(this.webpackJsonpaqireact=this.webpackJsonpaqireact||[]).push([[0],{16:function(e,t,a){e.exports=a(31)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(2),c=a.n(r),i=a(3),u=a(1),s=a(10),o=a(11),m=(a(26),a(12)),E=a(13),p=a(15),g=a(14),h=(a(27),function(e){var t=e.CountyList,a=e.onchangeCountyAqi,n=t.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)}));return l.a.createElement("div",{className:"flex tc aqi-searchbox"},l.a.createElement("div",{className:"aqi-title flex"},l.a.createElement("h1",null,"\u7a7a\u6c23\u54c1\u8cea\u6307\u6a19(AQI)"),l.a.createElement("select",{onChange:a},l.a.createElement("option",{defaultValue:!0},"\u8acb\u9078\u64c7\u5730\u5340"),n)),l.a.createElement("ul",{className:"aqi-list flex bg-white"},l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-green"},"0~50"),l.a.createElement("p",null,"\u826f\u597d")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-yellow"},"51~100"),l.a.createElement("p",null,"\u666e\u901a")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-orange"},"101~150"),l.a.createElement("p",null,"\u5c0d\u654f\u611f\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-red"},"151~200"),l.a.createElement("p",null,"\u5c0d\u6240\u6709\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-light-purple"},"201~300"),l.a.createElement("p",null,"\u5c0d\u6240\u6709\u65cf\u7fa4",l.a.createElement("br",null),"\u4e0d\u5065\u5eb7")),l.a.createElement("li",null,l.a.createElement("p",{className:"bg-dangerous"},"301~400"),l.a.createElement("p",null,"\u5371\u5bb3"))))}),f=(a(28),function(e){var t=e.focusSite,a="",n=t.AQI;switch(!0){case n>=0&&n<=50:a="bg-ligth-green";break;case n>=51&&n<=100:a="bg-light-yellow";break;case n>=101&&n<=150:a="bg-light-orange";break;case n>=151&&n<=200:a="bg-light-red";break;case n>=201&&n<=300:a="bg-light-purple";break;case n>=300&&n<=400:a="bg-dangerous"}return l.a.createElement("div",null,l.a.createElement("ul",{className:"aqi-focus bg-white"},l.a.createElement("li",{className:"aqi-box"},l.a.createElement("p",null,t.SiteName),l.a.createElement("p",{className:a},t.AQI)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u81ed\u6c27 ",l.a.createElement("span",null,"O",l.a.createElement("sub",null,"3"),"(ppb)")),l.a.createElement("p",null,t.O3)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u61f8\u6d6e\u5fae\u7c92 ",l.a.createElement("span",null,"PM",l.a.createElement("span",{className:"half"},"10"),"(ug/m",l.a.createElement("sup",null,"3"),")")),l.a.createElement("p",null,t.PM10)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u7d30\u61f8\u6d6e\u5fae\u7c92 ",l.a.createElement("span",null,"PM",l.a.createElement("span",{className:"half"},"2.5"),"(ug/m",l.a.createElement("sup",null,"3"),")")),l.a.createElement("p",null,t["PM2.5"])),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e00\u6c27\u5316\u78b3 ",l.a.createElement("span",null,"CO(ppm)")),l.a.createElement("p",null,t.CO)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e8c\u6c27\u5316\u786b ",l.a.createElement("span",null,"SO",l.a.createElement("sub",null,"2"),"(ppb)")),l.a.createElement("p",null,t.SO2)),l.a.createElement("li",{className:"aqi-text"},l.a.createElement("p",null,"\u4e8c\u6c27\u5316\u6c2e ",l.a.createElement("span",null,"NO",l.a.createElement("sub",null,"2"),"(ppb)")),l.a.createElement("p",null,t.NO))))}),b=(a(29),function(e){var t=e.onChangeFocusSite,a=e.County,n=e.datas,r=e.focusSite;return l.a.createElement("div",null,l.a.createElement("div",{className:"aqi-content-title flex"},l.a.createElement("h2",null,a),l.a.createElement("p",null,r.PublishTime," \u66f4\u65b0")),l.a.createElement("div",{className:"aqi-content-main flex"},l.a.createElement(f,{focusSite:r}),l.a.createElement("div",{className:"aqi-content-list flex"},n.map((function(e,a){var n="",r=e.AQI;switch(!0){case r>=0&&r<=50:n="bg-ligth-green";break;case r>=51&&r<=100:n="bg-light-yellow";break;case r>=101&&r<=150:n="bg-light-orange";break;case r>=151&&r<=200:n="bg-light-red";break;case r>=201&&r<=300:n="bg-light-purple";break;case r>=300&&r<=400:n="bg-dangerous"}return l.a.createElement("div",{className:"aqi-box bg-white",key:a},l.a.createElement("p",{onClick:t},e.SiteName),l.a.createElement("p",{className:n},e.AQI))})))))}),d=(a(30),function(e){return{type:"ON_CHANGE_FOCUS_SITE",payload:e}}),y=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onchangeSite=function(t){var a=e.props,n=a.datas,l=a.onChangeCounty,r=a.countyChangeSiteChange,c=n.find((function(e){return e.County===t.target.value})).SiteName;console.log(c),l(t),r(c)},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.onRequestAqi)()}},{key:"render",value:function(){var e=this.props,t=e.CountyList,a=e.datas,n=e.onChangeFocusSite,r=e.setCounty,c=e.setfocusSite,i=a.filter((function(e){return e.County===r})),u=a.filter((function(e){return e.SiteName===c}));return 0===i.length||0===u.length?l.a.createElement("h1",null,"Loading"):l.a.createElement("div",{className:"wrap"},l.a.createElement(h,{CountyList:t,onchangeCountyAqi:this.onchangeSite}),l.a.createElement(b,{County:r,datas:i,focusSite:u[0],onChangeFocusSite:n}))}}]),a}(n.Component),C=Object(i.b)((function(e){return{setCounty:e.requestAqi.County,setfocusSite:e.requestAqi.focusSite,datas:e.requestAqi.datas,isPending:e.requestAqi.isPending,error:e.requestAqi.error,CountyList:e.requestAqi.countyList}}),(function(e){return{onChangeCounty:function(t){return e({type:"ON_CHANGE_COUNTY",payload:t.target.value})},onChangeFocusSite:function(t){return e(d(t.target.textContent))},countyChangeSiteChange:function(t){return e(d(t))},onRequestAqi:function(){return e((function(e){e({type:"REQUSET_AQI_PENDING",isPending:!0}),fetch("https://opendata.epa.gov.tw/api/v1/AQI?%24skip=0&%24top=1000&%24format=json").then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return e.County})).filter((function(e,t,a){return a.indexOf(e)===t})),n=t[0].County,l=t[0].SiteName;return e({type:"REQUSET_AQI_SUCCESS",payload:t,countyList:a,County:n,focusSite:l})})).catch((function(t){return e({type:"REQUSET_AQI_ERROR",payload:t,isPending:!1})}))}))}}}))(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N={datas:[],countyList:[],focusSite:"",County:"",isPending:!1,error:""},S=Object(s.createLogger)(),q=Object(u.c)({requestAqi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUSET_AQI_PENDING":return Object.assign({},e,{isPending:!0});case"REQUSET_AQI_SUCCESS":return Object.assign({},e,{datas:t.payload,countyList:t.countyList,County:t.County,focusSite:t.focusSite});case"REQUSET_AQI_ERROR":return Object.assign({},e,{error:t.payload,isPending:!1});case"ON_CHANGE_COUNTY":return Object.assign({},e,{County:t.payload});case"ON_CHANGE_FOCUS_SITE":return Object.assign({},e,{focusSite:t.payload});default:return e}}}),v=Object(u.d)(q,Object(u.a)(S,o.a));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,{store:v},l.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.6cc607ad.chunk.js.map